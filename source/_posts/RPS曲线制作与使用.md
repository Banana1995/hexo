---
title: RPS曲线制作与使用
date: 2018-10-28 12:11:23
categories: "Reading"
tags: "陶博士2006"
---

此文章内容结合公众号“陶博士2006”的RPS曲线的编制方法，记录自己使用时的注意事项。

<!--more-->

##  RPS曲线编制

### 1.建立"上市一年以上"自定义板块并将股票选入板块

>  在通达信软件中，工具—自定义板块设置—新建板块。
>
> 功能（菜单）--选股器-定制选股--其它条件--上市天数--加入条件--上市天数大于360天--选股入板块（上市一年以上）。

- 注意：此处若想复现博士另一篇文章中的排序结果，则需要将上市天数设置为2016年6月1日至当前时间的天数。再通过.401进行rps排序可得出与博士另一篇文章相似的排序结果。我是以此来验证公式设置是否准确的。
- 此板块中的股票博士建议**一个月更新一次**

### 2.设置公式

**公式的本质是按照股票的涨幅排序来计算出相对股价强度**

> 建立一个小公式，命名为“EXTRS”，用来计算股票涨跌幅
>
> EXTRS:(C-REF(C,N))/REF(C,N);
>
> N缺省值为250。
>
> 通达信软件，Control+F，技术指标公式—其他类型

建立涨跌幅公式后，需要将股票按照涨跌幅排序，这里需要设置扩展数据：

> 输入：.902，进入扩展数据管理器。 选中第1条扩展数据，点击修改。
>
> 技术指标公式选择新建的“EXTRS”指标
>
> 计算参数为120（对应半年期的RPS）
>
> 计算时段为本地所有数据
>
> 计算品种为“自定义板块”下面的“上市一年以上”这个板块
>
> 勾选“精确复权”及“生成横向排名数据”
>
> 排名方法为“0-1000归一化顺序”

这是按照股价120天的涨幅对全市场所有股票数据进行排序，再按照同样的方式对扩展数据2进行设置，将参数设置为250天，计算的是股价一年的涨幅排序。

接下来，新建一个RPS公式指标：

> 通达信软件，Control+F，技术指标公式—其他类型—新建：
>
> 股价相对强度RPS, 出两条彩线的代码如下：
>
> X:=EXTDATA_USER(1,0);{120天的}
>
> RPS120:X/10,LINETHICK2,COLORGREEN;
>
> IF(RPS120>=M,RPS120,DRAWNULL),LINETHICK2,COLORRED;
>
> ;
>
> Y:=EXTDATA_USER(2,0);{250天的}
>
> RPS250:Y/10,LINETHICK2,COLORWHITE;
>
> IF(RPS250>=M,RPS250,DRAWNULL),LINETHICK2,COLORRED;

### 3.下载历史数据

软件计算需要使用全部的历史数据：

> 通达信软件的菜单—系统—盘后数据下载：请自行修改下载的开始时间

- 博士建议这里需要每天存盘下载当天日线数据，并全部刷新两条扩展数据（即重新计算排名），这样才能显示最新的RPS曲线。

### 4.使用RPS排序

在“上市一年以上”的板块中采用RPS指标对该板块进行排序即可：

> 通达信可以对RPS进行排序：.401（401前面有个点），进入历史行情指标排序，然后右键添加RPS指标，或者右键更改排序指标为RPS，就可以排序了。

从公式里可以看到RPS的值其实是股价涨跌的排序值，股价涨幅最高的为100分，在板块中过滤后剩下的RPS大于90分的大概只有三四百只股票。